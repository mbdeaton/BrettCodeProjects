Notebook[{

Cell[CellGroupData[{
Cell["Config File for nu_potentials.nb", "Title"],

Cell["\<\
Configuration file or calculating neutrino potentials from tables of \
distribution functions.\
\>", "Text"],

Cell[CellGroupData[{

Cell["Set these variables different for each trajectory", "Section"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"trajectoryThetadeg", "=", "0"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"trajectoryName", "=", 
    RowBox[{
     RowBox[{"PadRight", "[", 
      RowBox[{
       RowBox[{"StringSplit", "[", 
        RowBox[{
         RowBox[{"ToString", "[", "trajectoryThetadeg", "]"}], ",", 
         "\"\<\>\""}], "]"}], ",", "2", ",", "\"\<0\>\""}], "]"}], "<>", 
     "\"\<deg\>\""}]}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"enforce", " ", "2"}], "-", 
    RowBox[{"digit", " ", "format"}]}], " ", "*)"}]}]}], "Code"],

Cell[BoxData[
 RowBox[{
  RowBox[{"levName", "=", "\"\<Lev2-20\>\""}], ";"}]], "Code"],

Cell["\<\
Later, extract the variables below from the DistribFunction*dat, SpEC*.out, \
and {dens,efrc}_ascii_190-*.dat files.\
\>", "Text"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"numTopCommentLines", "=", "13"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"numColumns", "=", "4"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{
    SubscriptBox["p", "t"], ",", " ", "cosA", ",", " ", "B", ",", " ", "f"}], 
   " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"numqBins", "=", "20"}], ";"}], 
  RowBox[{"(*", " ", 
   SubscriptBox["p", "t"], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"numcosABins", "=", "20"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"cos", " ", "A"}], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"numBBins", "=", "20"}], ";"}], 
  RowBox[{"(*", " ", "B", " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{"qMinMeV", "=", "0"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"qMaxMeV", "=", "50"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"cosAMins", "=", 
   RowBox[{"{", "\n", "  ", 
    RowBox[{
     RowBox[{"-", "1."}], ",", "\n", "  ", 
     RowBox[{"-", "1."}], ",", "\n", "  ", "0.19705638472786", ",", "\n", 
     "  ", "0.871612187093838", ",", "\n", "  ", "0.969498298695065", ",", 
     "\n", "  ", "0.992462461654423"}], "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"cosAMaxs", "=", 
   RowBox[{"{", 
    RowBox[{"1.", ",", "1.", ",", "1.", ",", "1.", ",", "1.", ",", "1."}], 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"orientPretty", "=", "False"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"findBestPointing", "=", "False"}], ";"}]}], "Code"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"numTopCommentLinesFern", "=", "1"}], ";"}], "\[IndentingNewLine]", 

 RowBox[{
  RowBox[{
   RowBox[{"numColumnsFern", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"r", ",", " ", "\[Theta]", ",", " ", "u"}], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{"rMinFerncm", "=", "3.006750000000*^6"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"rMaxFerncm", "=", "2.967139618540*^9"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"numrBinsFern", "=", "384"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"rTocmFern", "=", "1"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{
   "conversion", " ", "factor", " ", "to", " ", "take", " ", "r", " ", "in", 
    " ", "the", " ", "dat", " ", "file", " ", "to", " ", "cm"}], " ", 
   "*)"}]}]}], "Code"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Don't change these variables", "Section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"runDirectory", "=", 
   RowBox[{"SetDirectory", "[", 
    RowBox[{"NotebookDirectory", "[", "]"}], "]"}]}], ";"}]], "Code"],

Cell[CellGroupData[{

Cell["Neutrino distirbution functions", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"GetRadiusFromDirectoryName", "[", "dir_", "]"}], ":=", "\n", "  ", 
  
  RowBox[{"ToExpression", "[", "\n", "    ", 
   RowBox[{"StringCases", "[", 
    RowBox[{"dir", ",", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"s", ":", 
         RowBox[{"DigitCharacter", ".."}]}], ")"}], "~~", "\"\<km\>\""}], 
      "\[Rule]", "s"}]}], "]"}], 
   RowBox[{"(*", " ", 
    RowBox[{
    "extract", " ", "numerical", " ", "distance", " ", "along", " ", 
     "trajectory"}], " ", "*)"}], "\n", "  ", "]"}]}]], "Code"],

Cell[CellGroupData[{

Cell["Get list of observation directories", "Subsubsection"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"scratchFileNames", "=", 
   RowBox[{"FileNames", "[", 
    RowBox[{"trajectoryName", "<>", "\"\<-*km\>\""}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"rTocmDirName", "=", 
    RowBox[{"10", "^", "5"}]}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{
   "conversion", " ", "factor", " ", "to", " ", "take", " ", "r", " ", "from",
     " ", "dir", " ", "name", " ", "to", " ", "cm"}], " ", "*)"}]}], "\n", 
 RowBox[{"observationDirectories", "=", 
  RowBox[{"SortBy", "[", 
   RowBox[{"scratchFileNames", ",", "GetRadiusFromDirectoryName"}], 
   "]"}]}], "\n", 
 RowBox[{"radiicm", "=", 
  RowBox[{
   RowBox[{"Flatten", "[", 
    RowBox[{"GetRadiusFromDirectoryName", "/@", "observationDirectories"}], 
    "]"}], "*", "rTocmDirName"}]}], "\n", 
 RowBox[{"numObservations", "=", 
  RowBox[{"Length", "[", "observationDirectories", "]"}]}]}], "Code"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Extract some meta data", "Subsubsection"],

Cell["\<\
Assume all the observations along this trajectory used the same energy bounds \
and number of bins.
(Come back to get the file stream working later, for now just manually put in \
the configuration variables above.)\
\>", "Text"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"testSStream", "=", 
   RowBox[{
    RowBox[{"OpenRead", "[", 
     RowBox[{
      RowBox[{"observationDirectories", "[", 
       RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\</\>\"", "<>", "levName", 
      "<>", "\"\</SpEC-nue.out\>\""}], "]"}], "\n", 
    RowBox[{"Close", "[", "testSStream", "]"}]}]}], "*)"}]], "Code"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "fileStream", "}"}], ",", "\n", "  ", 
    RowBox[{
     RowBox[{"fileStream", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{"observationsDirectories", "[", "1", "]"}], "]"}]}], ";"}]}], 
   " ", "\n", "]"}], "*)"}]], "Code"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Matter profiles", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{
  "matterDirectory", "=", 
   "\"\</Users/mbdeaton/Documents/ResearchGraveyard/NuclearAstrophysics/\
DataAndVis/20150923-data_for_disk_wind_models/fern-hmns/Trajectories\>\""}], 
  ";"}]], "Code"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{640, 750},
WindowMargins->{{Automatic, 13}, {Automatic, 3}},
PrivateNotebookOptions->{"FileOutlineCache"->False},
TrackCellChangeTimes->False,
FrontEndVersion->"7.0 for Mac OS X x86 (32-bit) (February 18, 2009)",
StyleDefinitions->"Default.nb"
]
